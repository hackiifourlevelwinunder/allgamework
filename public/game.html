
<!DOCTYPE html>
<html>
<head>
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="style.css">
<title>Game</title>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="h1">3 LEVEL FIX NUMBER</div>
    <div class="sub">Live Period</div>
    <div id="period" style="font-weight:700"></div>
    <div class="timer" id="timer"></div>
  </div>

  <div class="card">
    <div class="big" id="res">--</div>
  </div>

  <div class="card">
    <table class="table">
      <thead><tr><th>Period</th><th>Number</th></tr></thead>
      <tbody id="hist"></tbody>
    </table>
  </div>
</div>
<script>
function tick(){
  const s=new Date().getSeconds();
  document.getElementById('timer').innerText="Time Remaining: "+(59-s)+"s";
}
setInterval(tick,1000);

async function load(){
  const d=await fetch('/data').then(r=>r.json());
  period.innerText=d.period;
  res.innerText=d.result===null?'WAIT':d.result;
  hist.innerHTML='';
  d.history.forEach(x=>{
    hist.innerHTML+=`<tr><td>${x.period}</td><td>${x.result}</td></tr>`;
  });
}
setInterval(load,1000);
</script>
</body>
</html>
